(()=>{function e(){let e,t,r=SidebarUI._box,o=Services.prefs,i="sidebar.position_start",n="userChrome.floating-sidebar.width",s="userChrome.floating-sidebar.hotkey",d="viewBookmarksSidebarKb",a="viewBookmarksToolbarKb",m=document.createElement("div"),u=document.getElementById(d),l=document.getElementById(a),c=document.getElementById("sidebar-switcher-bookmarks"),b=document.getElementById("menu_bookmarksSidebar"),y=!1;function g(o){m.style.width="200%",m.style.marginInline="-100%",e=o.screenX,t=parseInt(document.defaultView.getComputedStyle(r).width,10),document.documentElement.addEventListener("mousemove",h,!0),document.documentElement.addEventListener("mouseup",v,!1)}function h(o){y||(y=!0,requestAnimationFrame(()=>{SidebarUI._positionStart?r.style.width=t+o.screenX-e+"px":r.style.width=t-o.screenX+e+"px",y=!1}))}function v(e){m.style.width="4px",m.style.removeProperty("margin-inline"),document.documentElement.removeEventListener("mousemove",h,!0),document.documentElement.removeEventListener("mouseup",v,!1),o.setStringPref(n,r.style.width)}function p(e,t,i){o.getBoolPref(i)?(m.style.right="0",r.style.paddingRight="4px"):(m.style.removeProperty("right"),r.style.removeProperty("padding-right"))}function w(e,t,r){o.getBoolPref(r)?(u.setAttribute("oncommand","SidebarUI.toggle();"),l.setAttribute("oncommand","SidebarUI.toggle('viewBookmarksSidebar');"),b.setAttribute("key",a),c.setAttribute("key",a),SidebarUI.updateShortcut({button:c})):(u.setAttribute("oncommand","SidebarUI.toggle('viewBookmarksSidebar');"),l.setAttribute("oncommand","BookmarkingUI.toggleBookmarksToolbar('shortcut');"),b.setAttribute("key",d),c.setAttribute("key",d),SidebarUI.updateShortcut({button:c}))}function f(){window.removeEventListener("unload",f,!1),o.removeObserver(i,p),o.removeObserver(s,w)}!async function(){try{w(0,0,s)}catch(e){await async function(e,t){return o.setBoolPref(e,t)}(s,!0),w(0,0,s)}}(),function(){m.className="dragger",m.style.cssText="display: inline-block; height: 100%; position: absolute; width: 4px; cursor: ew-resize;",r.appendChild(m),r.style.minWidth="18em",r.style.maxWidth="100%";try{r.style.width=o.getStringPref(n)}catch(e){r.style.width="18em"}o.getBoolPref(i)&&(m.style.right="0",r.style.paddingRight="4px")}(),m.addEventListener("mousedown",g,!1),window.addEventListener("unload",f,!1),o.addObserver(i,p),o.addObserver(s,w)}if(gBrowserInit.delayedStartupFinished)e();else{let t=(r,o)=>{"browser-delayed-startup-finished"==o&&r==window&&(Services.obs.removeObserver(t,o),e())};Services.obs.addObserver(t,"browser-delayed-startup-finished")}})();