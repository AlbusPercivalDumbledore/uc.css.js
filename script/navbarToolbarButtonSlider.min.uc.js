!function(){let e=document.createElement("div"),t=document.createElement("div"),n=t.children,i=document.getElementById("nav-bar-customization-target"),o=document.getElementById("mainPopupSet"),r=i.children,s=[],l={onCustomizeStart:function(){t=n,r=i,b(t,r),o.appendChild(e);var t,r}.bind(this),onCustomizeEnd:async function(){f(await u(r),t)}.bind(this),onWidgetAfterDOMChange:function(e,t,n,o){if(o)return;e.ownerGlobal!==this||n!==i||CustomizationHandler.isCustomizing()||p(e)}.bind(this),onWindowClosed:function(e){e===this?this.CustomizableUI.removeListener(l):e.CustomizationHandler.isCustomizing()&&f(s,t)}.bind(this)},a=async function(){return CustomizableUI.getWidgetsInArea("nav-bar").filter(Boolean).filter(h)};const d=new MutationObserver((function(t){for(let i of t)"attributes"===i.type&&(n.some(e=>e.open)?e.open||(e.open=!0):!e.open||(e.open=!1))})),c={attributeFilter:["open"],subtree:!0};async function u(e){s.length=0;for(let t=0;t<e.length;t++)h(e[t])&&s.push(e[t]);return s}function h(e){if(!1===e.showInPrivateBrowsing&&PrivateBrowsingUtils.isWindowPrivate(this))return!1;switch(e.id){case"wrapper-back-button":case"back-button":case"wrapper-forward-button":case"forward-button":case"wrapper-stop-reload-button":case"stop-reload-button":case"wrapper-urlbar-container":case"urlbar-container":case"wrapper-search-container":case"search-container":case"nav-bar-toolbarbutton-slider-container":return!1;default:return!0}}function b(e,t){for(let n=0;e.length-n;t.firstChild===e[0]&&n++)t.appendChild(e[n])}function f(t,n,i=!1){let o=t[0].parentElement,r=t[0].previousSibling;b(t,n),i&&e.appendChild(n),o.insertBefore(e,r.nextSibling)}async function p(e){let n=await a();for(let i=0;i<n.length;i++)n[i].id===e?.id&&(i+1===n?.length?n[i-1].forWindow(this).node.after(e):t.insertBefore(e,n[i+1].forWindow(this).node))}async function m(){let e=await u(r);e.length&&f(e,t),async function(){let e=await a();for(let n=0;n<e.length;n++)e[n].forWindow(this).node.nextElementSibling!=e[n+1]?.forWindow(this).node&&t.insertBefore(e[n].forWindow(this)?.node,e[n+1]?.forWindow(this).node)}()}if(async function(){f(await u(r),t,!0),n.some=Array.prototype.some,d.observe(t,c),e.className="container",e.id="nav-bar-toolbarbutton-slider-container",e.style.cssText="display: -moz-box; -moz-box-align: center; max-width: 352px; scrollbar-width: none; box-sizing: border-box; scroll-behavior: smooth; overflow: hidden",t.className="container",t.id="nav-bar-toolbarbutton-slider",t.style.cssText="display: flex; flex-flow: row; flex-direction: row",e.setAttribute("smoothscroll","true"),e.setAttribute("clicktoscroll","true"),e.setAttribute("overflowing","true"),e.setAttribute("orient","horizontal"),e.smoothScroll=!0,e._clickToScroll=!0,e._isScrolling=!1,e._destination=0,e._direction=0,e._prevMouseScrolls=[null,null],e.scrollByPixels=function(e,t){let n={behavior:t?"instant":"auto"};n.left=e,this.scrollBy(n)},e.lineScrollAmount=function(){return n.length&&this.scrollWidth/n.length},e.on_Scroll=function(){this.open||(this._isScrolling=!0)},e.on_Scrollend=function(){this._isScrolling=!1,this._destination=0,this._direction=0},e.on_Wheel=function(e){if(this.open)return;let t,n=!1,i=0,o=Math.abs(e.deltaY)>Math.abs(e.deltaX),r=o?e.deltaY:e.deltaX;if(this._prevMouseScrolls.every(e=>e==o)&&(n=!0,e.deltaMode==e.DOM_DELTA_PIXEL?(i=r,t=!0):i=e.deltaMode==e.DOM_DELTA_PAGE?r*this.clientWidth:r*this.lineScrollAmount()),this._prevMouseScrolls.length>1&&this._prevMouseScrolls.shift(),this._prevMouseScrolls.push(o),n){let e=i<0?-1:1,n=this.scrollLeft;this._isScrolling&&this._direction==e?(this._destination=this._destination+i,i=this._destination-n):(this._destination=n+i,this._direction=e),this.scrollByPixels(i,t)}e.stopPropagation(),e.preventDefault()},e.addEventListener("wheel",e.on_Wheel),e.addEventListener("scroll",e.on_Scroll),e.addEventListener("scrollend",e.on_Scrollend),e.nextElementSibling&&p(e.nextElementSibling)}(),gBrowserInit.delayedStartupFinished)CustomizableUI.addListener(l),setTimeout(()=>{m()},1e3);else{let e=(t,n)=>{"browser-delayed-startup-finished"==n&&t==window&&(Services.obs.removeObserver(e,n),CustomizableUI.addListener(l),setTimeout(()=>{m.bind(this)()},1e3))};Services.obs.addObserver(e,"browser-delayed-startup-finished")}}();