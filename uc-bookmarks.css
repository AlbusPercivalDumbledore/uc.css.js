#main-window #editBookmarkPanel input:focus {
    background-color: var(--ui-textbox-focus-bgcolor) !important;
}

#main-window #editBMPanel_tagsField,
#main-window #editBMPanel_namePicker,
#editBookmarkPanel input {
    -moz-appearance: none !important;
    user-select: text !important;
    -moz-user-select: text !important;
    background-color: var(--ui-textbox-bgcolor) !important;
    color: #fff !important;
    border: none !important;
    padding: 2px;
    padding-inline: 8px;
    border-radius: 2px !important;
    min-height: 24px !important;
    box-sizing: border-box !important;
}

/* 'add bookmark' popup menu formatting */
#editBookmarkPanel {
    min-width: 270px !important;
}

#editBookmarkPanel menulist {
    -moz-appearance: none !important;
    background-color: var(--ui-textbox-bgcolor) !important;
    line-height: normal;
    padding-block: 2px;
    padding-inline-start: 4px;
    padding-right: 2px;
    color: #fff !important;
    border: none !important;
    border-radius: 2px !important;
    min-height: 24px !important;
}

#editBookmarkPanel menulist[open="true"] {
    border-bottom-right-radius: 0 !important;
    border-bottom-left-radius: 0 !important;
}

#editBookmarkPanel menulist[open="true"] menupopup {
    border-top-right-radius: 0 !important;
    border-top-left-radius: 0 !important;
}

#main-window #editBMPanel_folderTree {
    min-width: unset !important;
    max-width: 27em !important;
}

#editBookmarkPanel tree {
    -moz-appearance: none !important;
    background-color: var(--ui-textbox-bgcolor) !important;
    line-height: normal;
    color: #fff !important;
    border: none !important;
    border-radius: 2px !important;
    overflow: hidden !important;
}

#editBookmarkPanel richlistbox {
    border-radius: 2px !important;
    overflow: hidden !important;
}

#editBookmarkPanel treechildren::-moz-tree-row(hover),
#editBookmarkPanel treechildren::-moz-tree-cell(hover) {
    -moz-appearance: none !important;
    background-color: var(--ebmp-hover-bgcolor) !important;
    line-height: normal;
    color: #fff !important;
    border: none !important;
}

#editBookmarkPanel treechildren::-moz-tree-row(selected),
#editBookmarkPanel treechildren::-moz-tree-cell(selected) {
    -moz-appearance: none !important;
    background-color: var(--ebmp-focus-bgcolor) !important;
    line-height: normal;
    color: #fff !important;
    border: none !important;
    outline: none !important;
}

#editBookmarkPanel treechildren::-moz-tree-row(selected):hover,
#editBookmarkPanel treechildren::-moz-tree-cell(selected):hover {
    -moz-appearance: none !important;
    background-color: var(--ebmp-focus-bgcolor) !important;
    line-height: normal;
    color: #fff !important;
    border: none !important;
}

/* #editBookmarkPanel treechildren::-moz-tree-row(hover)(selected),
#editBookmarkPanel treechildren::-moz-tree-cell(hover)(selected) {
    -moz-appearance: none !important;
    background-color: var(--ebmp-focus-bgcolor) !important;
    line-height: normal;
    color: #fff !important;
    border: none !important;
} */

#editBookmarkPanel treechildren::-moz-tree-cell-text(selected),
#editBookmarkPanel treechildren::-moz-tree-image(selected),
#editBookmarkPanel treechildren::-moz-tree-twisty(selected) {
    -moz-appearance: none !important;
    background-color: var(--ebmp-focus-bgcolor) !important;
    line-height: normal;
    color: #fff !important;
    border: none !important;
    outline: none !important;
}

#editBookmarkPanel menuitem,
#editBookmarkPanel menu {
    -moz-appearance: none !important;
    background-color: hsl(232, 24%, 32%) !important;
    line-height: normal !important;
    padding-bottom: 3px;
    padding-inline-start: 2px !important;
    padding-left: 0px !important;
    padding-right: 2px;
    padding-top: 2px;
    color: #fff !important;
    border: none !important;
}

#editBookmarkPanel menupopup {
    padding: 0px !important;
    -moz-appearance: none !important;
    background-color: hsl(232, 24%, 32%) !important;
    line-height: normal !important;
    color: #fff !important;
    border: none !important;
    border-radius: 2px !important;
    overflow: hidden !important;
}

#editBookmarkPanel menulist menupopup {
    margin: 0 !important;
    --menupopup-border-radius: 0 0 2px 2px !important;
}

/* this goes in userChrome.au.css */
#editBookmarkPanelDropMarker,
#editBMPanel_folderMenuList::part(dropmarker) {
    -moz-appearance: none !important;
    list-style-image: url("chrome://devtools/skin/images/select-arrow.svg") !important;
    margin-block: 0 !important;
}

#editBookmarkPanel #editBookmarkPanelContent button {
    -moz-appearance: none !important;
    background-color: var(--ui-textbox-bgcolor) !important;
    line-height: normal;
    padding-bottom: 2px;
    padding-left: 2.5px;
    padding-right: 2px;
    padding-top: 3px;
    margin-left: 4px !important;
    color: #fff !important;
    border: none !important;
    border-radius: 2px !important;
}

#editBookmarkPanel #editBookmarkPanelContent button:hover {
    -moz-appearance: none !important;
    background-color: var(--ebmp-hover-bgcolor) !important;
}

/* #editBookmarkPanel #editBookmarkPanelContent button:hover:active {
    -moz-appearance: none !important;
    background-color: var(--ebmp-focus-bgcolor) !important;
} */

#editBookmarkPanel .panel-footer > button.editBookmarkPanelBottomButton {
    border: none !important;
}

#editBookmarkPanelDoneButton {
    background-color: hsl(251, 59%, 44%) !important;
}

#editBookmarkPanelDoneButton:hover {
    background-color: hsl(248, 80%, 56%) !important;
}

#editBookmarkPanelDoneButton:active {
    background-color: hsl(247, 80%, 58%) !important;
}

#editBookmarkPanelRemoveButton {
    background-color: hsl(233, 28%, 24%) !important;
}

#editBookmarkPanelRemoveButton:hover {
    background-color: hsl(234, 30%, 28%) !important;
}

#editBookmarkPanelRemoveButton:active {
    background-color: hsl(234, 30%, 30%) !important;
}

#editBookmarkPanel .expander-up,
#editBookmarkPanel .expander-down {
    -moz-appearance: none !important;
    background-color: var(--ui-textbox-bgcolor) !important;
    padding: 0 !important;
    min-width: 24px !important;
    min-height: 24px;
    box-sizing: border-box !important;
    margin-left: 0px !important;
    color: #fff !important;
    border: none !important;
    transform: none !important;
}

#editBookmarkPanel .expander-down image {
    list-style-image: url("chrome://devtools/skin/images/arrowhead-down.svg") !important;
    width: 17px !important;
}

#editBookmarkPanel .expander-up image {
    list-style-image: url("chrome://devtools/skin/images/arrowhead-up.svg") !important;
    width: 17px !important;
}

#editBookmarkPanel :is(menu, menuitem) {
    padding-left: 0 !important;
    padding-block: 2px !important;
}

#editBookmarkPanel .in-menulist :is(menu, menuitem) {
    min-height: 24px !important;
    height: 24px !important;
}

#editBookmarkPanel .in-menulist .menuitem-iconic .menu-iconic-text {
    padding-inline: 0 !important;
}

#editBookmarkPanel .in-menulist :is(menu, menuitem):is(:hover, [_moz-menuactive="true"]):not([disabled="true"]) {
    -moz-appearance: none !important;
    background-color: hsl(232, 21%, 40%) !important;
    color: #fff !important;
    border: none !important;
}

#editBookmarkPanel menulist[open="true"] {
    -moz-appearance: none !important;
    background-color: hsl(232, 24%, 32%) !important;
}

#editBookmarkPanel menuseparator {
    display: none !important;
}

#editBookmarkPanel richlistbox,
#editBookmarkPanel richlistitem {
    -moz-appearance: none !important;
    -moz-user-select: text !important;
    background-color: var(--ui-textbox-bgcolor) !important;
    color: #fff !important;
}

#editBookmarkPanel richlistitem {
    padding-inline-start: 2px !important;
    padding-top: 1px !important;
}

#editBookmarkPanel richlistitem image {
    -moz-appearance: none !important;
    background-color: transparent !important;
    border: none !important;
    -moz-context-properties: fill, fill-opacity !important;
    fill: currentColor !important;
    width: 12px !important;
    padding: 1px !important;
    opacity: 0.8 !important;
    list-style-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNSAyYy0xLjY1NCAwLTMgMS4zNDYtMyAzdjE0YzAgMS42NTQgMS4zNDYgMyAzIDNoMTRjMS42NTQgMCAzLTEuMzQ2IDMtM3YtMTRjMC0xLjY1NC0xLjM0Ni0zLTMtM2gtMTR6bTE5IDN2MTRjMCAyLjc2MS0yLjIzOCA1LTUgNWgtMTRjLTIuNzYyIDAtNS0yLjIzOS01LTV2LTE0YzAtMi43NjEgMi4yMzgtNSA1LTVoMTRjMi43NjIgMCA1IDIuMjM5IDUgNXoiIGZpbGw9ImNvbnRleHQtZmlsbCIgZmlsbC1vcGFjaXR5PSJjb250ZXh0LWZpbGwtb3BhY2l0eSIvPjwvc3ZnPg==");
}

#editBookmarkPanel richlistitem[checked="true"] image {
    -moz-appearance: none !important;
    background-color: transparent !important;
    border: none !important;
    width: 12px !important;
    padding: 1px !important;
    list-style-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTAuMDQxIDE3bC00LjUtNC4zMTkgMS4zOTUtMS40MzUgMy4wOCAyLjkzNyA3LjAyMS03LjE4MyAxLjQyMiAxLjQwOS04LjQxOCA4LjU5MXptLTUuMDQxLTE1Yy0xLjY1NCAwLTMgMS4zNDYtMyAzdjE0YzAgMS42NTQgMS4zNDYgMyAzIDNoMTRjMS42NTQgMCAzLTEuMzQ2IDMtM3YtMTRjMC0xLjY1NC0xLjM0Ni0zLTMtM2gtMTR6bTE5IDN2MTRjMCAyLjc2MS0yLjIzOCA1LTUgNWgtMTRjLTIuNzYyIDAtNS0yLjIzOS01LTV2LTE0YzAtMi43NjEgMi4yMzgtNSA1LTVoMTRjMi43NjIgMCA1IDIuMjM5IDUgNXoiIGZpbGw9ImNvbnRleHQtZmlsbCIgZmlsbC1vcGFjaXR5PSJjb250ZXh0LWZpbGwtb3BhY2l0eSIvPjwvc3ZnPg==") !important;
}

#editBookmarkPanel richlistitem:hover>image {
    opacity: 1 !important;
}

#editBookmarkPanel checkbox {
    margin-inline: 0 !important;
}

#editBookmarkPanel .checkbox-check {
    -moz-appearance: none !important;
    background-color: transparent !important;
    border: none !important;
    -moz-context-properties: fill, fill-opacity !important;
    fill: currentColor !important;
    width: 14px !important;
    padding: 1px !important;
    opacity: 0.8 !important;
    list-style-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNSAyYy0xLjY1NCAwLTMgMS4zNDYtMyAzdjE0YzAgMS42NTQgMS4zNDYgMyAzIDNoMTRjMS42NTQgMCAzLTEuMzQ2IDMtM3YtMTRjMC0xLjY1NC0xLjM0Ni0zLTMtM2gtMTR6bTE5IDN2MTRjMCAyLjc2MS0yLjIzOCA1LTUgNWgtMTRjLTIuNzYyIDAtNS0yLjIzOS01LTV2LTE0YzAtMi43NjEgMi4yMzgtNSA1LTVoMTRjMi43NjIgMCA1IDIuMjM5IDUgNXoiIGZpbGw9ImNvbnRleHQtZmlsbCIgZmlsbC1vcGFjaXR5PSJjb250ZXh0LWZpbGwtb3BhY2l0eSIvPjwvc3ZnPg==") !important;
}

#editBookmarkPanel checkbox:hover>.checkbox-check {
    opacity: 1 !important;
}

#editBookmarkPanel .checkbox-check[checked="true"] {
    -moz-appearance: none !important;
    background-color: transparent !important;
    border: none !important;
    width: 14px !important;
    list-style-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTAuMDQxIDE3bC00LjUtNC4zMTkgMS4zOTUtMS40MzUgMy4wOCAyLjkzNyA3LjAyMS03LjE4MyAxLjQyMiAxLjQwOS04LjQxOCA4LjU5MXptLTUuMDQxLTE1Yy0xLjY1NCAwLTMgMS4zNDYtMyAzdjE0YzAgMS42NTQgMS4zNDYgMyAzIDNoMTRjMS42NTQgMCAzLTEuMzQ2IDMtM3YtMTRjMC0xLjY1NC0xLjM0Ni0zLTMtM2gtMTR6bTE5IDN2MTRjMCAyLjc2MS0yLjIzOCA1LTUgNWgtMTRjLTIuNzYyIDAtNS0yLjIzOS01LTV2LTE0YzAtMi43NjEgMi4yMzgtNSA1LTVoMTRjMi43NjIgMCA1IDIuMjM5IDUgNXoiIGZpbGw9ImNvbnRleHQtZmlsbCIgZmlsbC1vcGFjaXR5PSJjb250ZXh0LWZpbGwtb3BhY2l0eSIvPjwvc3ZnPg==") !important;
}

#editBookmarkPanel richlistitem:hover,
#editBookmarkPanel richlistitem[_moz-menuactive="true"] {
    background-color: hsl(232, 21%, 40%) !important;
}

#editBookmarkPanelImage,
#editBookmarkPanel html {
    height: 140px !important;
}

#editBookmarkPanelFavicon[src] {
	box-sizing: content-box;
	width: 32px;
	height: 32px;
	padding: 5px;
	background: hsla(232, 24%, 26%, 50%) !important;
	box-shadow: 0 0 2px rgba(0,0,0,.1), 0 0 5px rgba(0,0,0,.05) !important;
	border-radius: 3px !important;
	margin-top: 10px;
	margin-inline-start: 10px;
	margin-bottom: -52px;
}

/* bookmarks toolbar button's popup */
@-moz-document url(chrome://browser/content/browser.xhtml) {

    link[href="chrome://global/skin/arrowscrollbox.css"] ~ :is(#scrollbutton-up, #scrollbutton-down) {
        visibility: collapse;
    }

    .BMB-special-innerbox {
        border: none !important;
    }
    
    menuitem.menuitem-iconic#BMB_viewBookmarksToolbar {
        list-style-image: url("chrome://browser/skin/bookmarks-toolbar.svg") !important;
        -moz-context-properties: fill, fill-opacity;
    }
    
    menuitem.menuitem-iconic#BMB_viewBookmarksToolbar[data-l10n-args*='{"isVisible":true}'] {
        fill-opacity: 0.5;
    }

    .BMBsmallContentBox {
        margin-top: 0px !important;
    }
    
    .panel-subview-footer.openintabs-menuitem {
        display: none !important;
    }

}

/* dragging items in places menus */
:is(.BMB-special-innerbox, .BMBsmallContentBox) image[part="drop-indicator"] {
    list-style-image: none;
    height: 2px;
    margin-inline-end: -4em;
    background-color: var(--toolbarbutton-icon-fill-attention) !important;
    background-image: linear-gradient(to right, hsla(224, 100%, 71%, 100%) 0%, hsla(224, 100%, 71%, 10%) 40%, hsla(224, 100%, 71%, 1%) 70%, transparent 100%) !important;
    background-color: transparent !important;
    width: 270px !important;
    margin-right: -270px !important;
    height: 1px !important;
    pointer-events: none;
}

.BMB-special-innerbox {
    border-left: none !important;
    border-right: none !important;
}

treechildren::-moz-tree-drop-feedback {
    background-image: linear-gradient(to right, hsla(224, 100%, 71%, 100%) 0%, hsla(224, 100%, 71%, 10%) 40%, hsla(224, 100%, 71%, 1%) 70%, transparent 100%) !important;
    background-color: transparent !important;
    width: 270px !important;
    height: 1px !important;
    margin-inline-start: -8px !important;
}

#BMB_bookmarksPopup {
    margin-top: -6px !important;
}

@supports (-moz-bool-pref("browser.proton.enabled")) {

/*     #BMB_bookmarksPopup menupopup[placespopup="true"] {
        padding-top: 0 !important;
    } */

    .BMB-special-innerbox {
        margin-top: 0px !important;
    }
    
    #BMB_bookmarksShowAllTop {
        list-style-image: url("chrome://browser/skin/library.svg") !important;
    }
    
    #BMB_bookmarksShowAllTop .menu-iconic-left {
        transform: scaleX(-1);
    }
    
    #BMB_viewBookmarksSidebar {
        list-style-image: url("chrome://browser/skin/sidebars-right.svg") !important;
    }
    
    #BMB_bookmarksShowAll:before {
        content: "" !important;
        position: relative !important;
        display: -moz-inline-box !important;
        width: 16px !important;
        height: 16px !important;
        padding-inline: 0px !important;
        margin-inline: 4px 0 !important;
        fill: currentColor !important;
        -moz-context-properties: fill, fill-opacity, stroke !important;
    }
    
    #BMB_bookmarksShowAll .menu-text {
        padding-inline-start: 2px !important;
    }
    
    #BMB_bookmarksShowAll .menu-accel-container:before {
        content: "(" !important;
        display: inline-block !important;
        box-sizing: border-box !important;
        padding-block: 1px !important;
    }
    
    #BMB_bookmarksShowAll .menu-accel-container:after {
        content: ")" !important;
        display: inline-block !important;
        box-sizing: border-box !important;
        padding-block: 1px !important;
    }
    
    #BMB_bookmarksShowAll .menu-accel-container {
        margin-inline: 4px 6px !important;
    }
    
    #BMB_bookmarksShowAll .menu-accel {
        margin-inline: 0 !important;
    }

}