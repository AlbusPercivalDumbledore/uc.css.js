/* this stylesheet mainly changes icons for specific extensions or websites in order to make them look more consistent with the firefox UI and/or fit better on a dark theme, e.g. white on a dark background. however, this shouldn't disrupt a light theme either, it just replaces PNG or explicitly-colored icons with SVGs that respond to CSS' "fill" and "stroke" properties. */
/* extension icon appearance */
#webapps_mendeley_com-browser-action .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/material/mendeley.svg) !important;
}

#_testpilot-containers-browser-action .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/skin/container-plus.svg);
}

#pageAction-urlbar-_testpilot-containers {
    --pageAction-image-16px: url(chrome://userchrome/content/skin/container-go.svg) !important;
    --pageAction-image-32px: url(chrome://userchrome/content/skin/container-go.svg) !important;
}

#pageAction-urlbar-screenshots_mozilla_org[style*="highlight"] {
    fill: var(--toolbarbutton-icon-fill-attention) !important;
}

#page-action-buttons > #pageAction-urlbar-gitzip-firefox-addons_gitzip_org {
    display: none !important;
}

#zotero_chnm_gmu_edu-browser-action {
    list-style-image: url(chrome://userchrome/content/material/zotero.svg) !important;
}

#_64b2c525-24ed-4c05-aed1-95ff9e6cef70_-browser-action .toolbarbutton-icon,
#wnpc_aminomancer-browser-action .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/material/rainmeter.svg);
}

#_af37054b-3ace-46a2-ac59-709e4412bec6_-browser-action .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/search-glass.svg);
}

#_0981817c-71b3-4853-a801-481c90af2e8e_-browser-action .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/devtools/tool-dom.svg);
}

/* cookie remover */
.webextension-browser-action[label="Remove cookies for this site"] .toolbarbutton-icon,
#_3507f56d-2ef5-45c1-b6d7-5297a0ba7642_-browser-action .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/skin/3rdpartycookies-disabled.svg);
}

/* pushbullet */
#sidebarMenu-popup
    #button__6540f1c5-ab3d-4eff-9ad2-79a95aec93d5_-sidebar-action:not([checked="true"]),
.webextension-browser-action[data-extensionid="jid1-BYcQOfYfmBMd9A@jetpack"] {
    list-style-image: url(chrome://userchrome/content/material/pushbullet-solid.svg) !important;
}

#sidebar-box[sidebarcommand="_6540f1c5-ab3d-4eff-9ad2-79a95aec93d5_-sidebar-action"]
    #sidebar-switcher-target
    > #sidebar-icon {
    list-style-image: url(chrome://userchrome/content/material/pushbullet-hollow.svg) !important;
}

/* bitwarden */
#sidebar-box[sidebarcommand="_446900e4-71c2-419f-a6a7-df9c091e268b_-sidebar-action"]
    #sidebar-switcher-target
    > #sidebar-icon,
#sidebarMenu-popup
    #button__446900e4-71c2-419f-a6a7-df9c091e268b_-sidebar-action:not([checked="true"]),
#_446900e4-71c2-419f-a6a7-df9c091e268b_-browser-action .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/notifications/webauthn.svg) !important;
}

#jid1-93wyvpgvxzgatw_jetpack-browser-action .toolbarbutton-icon,
#simple-translate_sienori-browser-action .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/material/translate.svg);
}

#addon_darkreader_org-browser-action .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/material/darkmode.svg);
}

#customizationui-widget-panel[viewId="PanelUI-webext-addon_darkreader_org-browser-action-view"] {
    --arrowpanel-background: var(--tooltip-bgcolor) !important;
    --arrowpanel-border-color: var(--tooltip-bgcolor) !important;
}

#ublock0_raymondhill_net-browser-action .toolbarbutton-icon,
.webextension-browser-action[label="Nano Adblocker"] {
    list-style-image: url(chrome://userchrome/content/show-password.svg);
}

#ublock0_raymondhill_net-browser-action[style*="icon_16-off.png"] .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/hide-password.svg);
}

#multithreaded-download-manager_qw_linux-2g64_local-browser-action .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/downloads/double-download.svg);
}

.webextension-browser-action[widget-id="secure-proxy_mozilla_com-browser-action"] {
    list-style-image: url(chrome://userchrome/content/skin/vpn-off-dark.svg) !important;
}

.webextension-browser-action[widget-id="secure-proxy_mozilla_com-browser-action"][label="Firefox Private Network is On"] {
    list-style-image: var(--vpn-on-icon) !important;
}

.webextension-browser-action[label^="Violentmonkey"] .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/devtools/command-console.svg);
}

.webextension-browser-action[label="Stylus"] .toolbarbutton-icon {
    list-style-image: url(chrome://userchrome/content/devtools/tool-styleeditor.svg);
}

/* make multithreaded download manager context menu label smaller */
#multithreaded-download-manager_qw_linux-2g64_local-menuitem-_link-context-menu .menu-iconic-left {
    -moz-box-flex: 1;
}

#multithreaded-download-manager_qw_linux-2g64_local-menuitem-_link-context-menu .menu-iconic-text {
    display: none;
}

#multithreaded-download-manager_qw_linux-2g64_local-menuitem-_link-context-menu
    .menu-iconic-left::after {
    content: "Download (multi-threaded)";
    display: -moz-inline-box;
    -moz-box-flex: 1;
}

:is(.menu-iconic, .menuitem-iconic):is([label="To Google Translate"], [label^="Translate this page"], [label="Translate selected link"], [label="Translate selected text"], [label="Simple Translate"])
    .menu-iconic-left::before {
    width: 16px;
    height: 16px;
    margin-inline: var(--context-iconic-margin);
    fill: currentColor;
    -moz-context-properties: fill, fill-opacity, stroke;
    content: "";
    display: -moz-inline-box;
    background-position: center;
    background-repeat: no-repeat;
    background-image: url(chrome://userchrome/content/material/translate-small.svg);
}

:is(.menu-iconic, .menuitem-iconic):is([label="To Google Translate"], [label^="Translate this page"], [label="Translate selected link"], [label="Translate selected text"], [label="Simple Translate"])
    .menu-iconic-icon {
    display: none;
}

/* hide simple translate menu item in sidebars (e.g. TST, sidebery) */
@-moz-document regexp("chrome://browser/content/webext-panels.xhtml")
{
    #simple-translate_sienori-menuitem-_translatePageOnTab {
        display: none;
    }
}

#contentAreaContextMenu
    :is(.menu-iconic, .menuitem-iconic)[label="Pushbullet"]
    .menu-iconic-left::before {
    width: 16px;
    height: 16px;
    margin-inline: var(--context-iconic-margin);
    fill: currentColor;
    -moz-context-properties: fill, fill-opacity, stroke;
    content: "";
    display: -moz-inline-box;
    background-position: center;
    background-repeat: no-repeat;
    background-image: url(chrome://userchrome/content/material/pushbullet-solid.svg);
}

#contentAreaContextMenu :is(.menu-iconic, .menuitem-iconic)[label="Pushbullet"] .menu-iconic-icon {
    display: none;
}

#contentAreaContextMenu
    :is(.menu-iconic, .menuitem-iconic)[label="Firefox Multi-Account Containers"]
    .menu-iconic-left::before {
    width: 16px;
    height: 16px;
    margin-inline: var(--context-iconic-margin);
    fill: currentColor;
    -moz-context-properties: fill, fill-opacity, stroke;
    content: "";
    display: -moz-inline-box;
    background-position: center;
    background-repeat: no-repeat;
    background-image: url(chrome://userchrome/content/skin/container-plus.svg);
}

#contentAreaContextMenu
    :is(.menu-iconic, .menuitem-iconic)[label="Firefox Multi-Account Containers"]
    .menu-iconic-icon {
    display: none;
}

/* shorten the multi-account containers label */
#contentAreaContextMenu
    :is(.menu-iconic, .menuitem-iconic)[label="Firefox Multi-Account Containers"]
    .menu-iconic-left {
    -moz-box-flex: 1;
}

#contentAreaContextMenu
    :is(.menu-iconic, .menuitem-iconic)[label="Firefox Multi-Account Containers"]
    .menu-iconic-left::after {
    content: "Account Containers";
    display: -moz-inline-box;
    -moz-box-flex: 1;
}

#contentAreaContextMenu
    :is(.menu-iconic, .menuitem-iconic)[label="Firefox Multi-Account Containers"]
    .menu-iconic-text {
    display: none;
}

#contentAreaContextMenu
    :is(.menu-iconic, .menuitem-iconic)[label="Zotero Connector"]
    .menu-iconic-left::before {
    width: 16px;
    height: 16px;
    margin-inline: var(--context-iconic-margin);
    fill: currentColor;
    -moz-context-properties: fill, fill-opacity, stroke;
    content: "";
    display: -moz-inline-box;
    background-position: center;
    background-repeat: no-repeat;
    background-image: url(chrome://userchrome/content/skin/sync.svg);
}

#contentAreaContextMenu
    :is(.menu-iconic, .menuitem-iconic)[label="Zotero Connector"]
    .menu-iconic-icon {
    display: none;
}

#contentAreaContextMenu
    :is(.menu-iconic, .menuitem-iconic):is([label="Block element..."], [label="uBlock Origin"])
    .menu-iconic-left::before {
    width: 16px;
    height: 16px;
    margin-inline: var(--context-iconic-margin);
    fill: currentColor;
    -moz-context-properties: fill, fill-opacity, stroke;
    content: "";
    display: -moz-inline-box;
    background-position: center;
    background-repeat: no-repeat;
    background-image: url(chrome://userchrome/content/hide-password.svg);
}

#contentAreaContextMenu
    :is(.menu-iconic, .menuitem-iconic):is([label="Block element..."], [label="uBlock Origin"])
    .menu-iconic-icon {
    display: none;
}

#contentAreaContextMenu
    :is(.menu-iconic, .menuitem-iconic)[label="Bitwarden"]
    .menu-iconic-left::before {
    width: 16px;
    height: 16px;
    margin-inline: var(--context-iconic-margin);
    fill: currentColor;
    -moz-context-properties: fill, fill-opacity, stroke;
    content: "";
    display: -moz-inline-box;
    background-position: center;
    background-repeat: no-repeat;
    background-image: url(chrome://userchrome/content/material/fingerprint-large.svg);
}

#contentAreaContextMenu :is(.menu-iconic, .menuitem-iconic)[label="Bitwarden"] .menu-iconic-icon {
    display: none !important;
}

menupopup menuitem[class^="unified-nav"][uri="moz-extension://e158f52d-b5db-4594-9757-1e526a5df811/newtab.html"]:not([_moz-menuactive="true"])
{
    list-style-image: url("moz-extension://e158f52d-b5db-4594-9757-1e526a5df811/favicon.ico") !important;
}

.menu-iconic-icon:is([src^="page-icon:https://github.com"], [src^="page-icon:http://github.com"]),
.toolbarbutton-icon:is([src^="page-icon:https://github.com"], [src^="page-icon:http://github.com"]),
.urlbarView-favicon:is([src^="page-icon:https://github.com"], [src^="page-icon:http://github.com"])
{
    filter: invert(1) brightness(10);
}

@supports -moz-bool-pref("userChrome.bookmarks-toolbar.icons-only") {
    #PersonalToolbar toolbarbutton.bookmark-item:not(.subviewbutton, [id]) .toolbarbutton-icon:is([src^="page-icon:https://github.com"], [src^="page-icon:http://github.com"]) {
        background-image: url(chrome://userchrome/content/engines/github.svg) !important;
        background-size: 16px !important;
        background-repeat: no-repeat !important;
        background-position: center !important;
        padding-left: 28px !important;
        padding-right: 0 !important;
        filter: none !important;
    }
}

#addons-notification-icon,
#add-ons-button,
#appMenu-addons-button {
    list-style-image: url(chrome://userchrome/content/material/extension.svg) !important;
}
